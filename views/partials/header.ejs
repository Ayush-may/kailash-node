<style>
  /* General Header Styling */

  /* Navigation Styling */
  nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    position: relative;
    /* z-index: 99999; */
    height: 30px;
  }

  /* Search Container Styling */
  /* Search Container Styling */
  .search-container {
    display: flex;
    align-items: center;
    position: relative;
  }

  .search-icon {
    /* margin-right: 500px; */
    font-size: 20px;
    margin-right: -6px;
    /* Adds space between the icon and the input field */
  }

  /* .search-input {
  width: 0;
  opacity: 0;
  visibility: hidden;
  display: none;
  height: 30px;
  padding: 0 10px;
  border: 1px solid #ccc;
  border-radius: 5px;
  outline: none;
  transition: width 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;
} */

  #search-toggle {
    margin-right: -100px;
  }

  /* When checkbox is checked, show the search bar */
  /* #search-toggle:not(:checked) ~ .search-input {
  width: 0;
  opacity: 0;
  visibility: hidden;
  margin-right: -50px;
  height: 30px;
  padding: 0 10px;
  border: 1px solid #ccc;
  border-radius: 5px;
  outline: none;
  transition: all 0.3s ease;
}
#search-toggle:checked ~ .search-input {
  margin-right: -20px;
  width: 150px;
  opacity: 1;
  visibility: visible;
  transition: all 0.3s ease;
} */


  .menu-header {
    display: flex;
    margin-left: auto;
    justify-content: flex-end;
    padding: 0 10px;
    width: fit-content;
    cursor: pointer;
    /* height: 50%; */
    /* border-radius: 200%; */
    /* background-color: #84e0fe; */
    /* border-bottom: 1px solid #ddd; */
  }

  .close-icon {
    font-size: 24px;

  }

  .menu-content {
    position: relative;
  }

  .menu-content a {
    display: block;
    padding: 10px 20px;
    text-decoration: none;
    color: #333;
    border-bottom: 1px solid #ddd;
    transition: background-color 0.2s ease;
  }

  .menu-content a:hover {
    background-color: #f0f0f0;
  }

  nav a {
    color: white;
    text-decoration: none !important;
    font-weight: 400;
    transition: all 0.3s ease-out;
  }

  nav a:hover {
    transform: translateY(-5px);
  }

  .menu-toggle {
    display: none;
  }

  /* Side menu styles */
  .side-menu {
    background-color: #4BCFFA;
    position: absolute;
    top: 0;
    right: 0;
    top: 100%;
    /* width: 100px; */
    width: 100%;
    transition: left 0.3s;
    z-index: 99;
    border-radius: 0 0 0 10px;
  }

  .side-menu .menu-content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100%;
    gap: 1rem;
  }

  .side-menu .menu-content a {
    color: white;
    font-size: 1rem;
    text-decoration: none;
    padding: 10px;
  }

  .side-menu .menu-content a:hover {
    background-color: #575757;
    border-radius: 5px;
  }

  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: none;
    z-index: 997;
  }

  /* When the checkbox is checked, show the side menu and overlay */
  #menu-toggle:checked+.side-menu {
    left: 0;
  }

  #menu-toggle:checked+.side-menu .overlay {
    display: block;
  }

  /* Hamburger Icon Styles */
  .hamburger-icon {
    font-size: 30px;
    cursor: pointer;
    color: #000;
    padding: 10px;
  }

  /* Remove default styling for links */
  .menu-content a {
    border: none;
    text-decoration: none;
  }

  #search-options {
    position: absolute;
    background-color: rgb(246, 251, 255);
    top: 100%;
    /* width: 100%; */
    border-radius: 5px;
    margin-top: 5px;
    padding: 5px;
  }

  #search-options ul,
  #search-options li,
  #search-options a {
    margin: 0;
    padding: 0;
    text-decoration: none;
    list-style: none;
    color: black;
    cursor: pointer;
  }

  #search-options li {
    padding: 10px 1rem;
    border-radius: 5px;
    transition: all 0.3s ease;
  }

  #search-options li:hover {
    color: rgb(99, 99, 99);
    background-color: rgb(223, 230, 236);
  }
</style>

<header class="py-4 d-none d-md-block" style="z-index: 99999;">
  <nav class="d-flex justify-content-between" style="z-index: 999999;">
    <div>
      <a href="/index"><img src="./images/mvlogo.png" width="150" height="50" alt="Company Logo"></a>
    </div>
    <div class="d-flex align-items-center gap-3">
      <div class="d-flex gap-5">
        <a href="/index/about">About us</a>
        <a href="/index/teams">Teams</a>
        <a href="/index/join_us">Career</a>
        <a href="/index/contact_us">Contact us</a>
      </div>
      <div class="d-flex gap-1 align-items-center position-relative">
        <input type="text" id="nav_search" placeholder="<%= index.search_placeholder || 'Search here...' %>"
          class="form-control m-0" aria-label="Search input" style="max-width: 150px;">
        <button class="btn btn-primary" aria-label="Search">
          <%= index.search_button_text || 'Search' %>
        </button>
        <div id="search-options">
          <ul id="search-options_ul">
          </ul>
        </div>
      </div>
    </div>
  </nav>
</header>

<!-- small screen nav -->
<header class="d-block d-md-none" style="z-index: 999999;">

  <nav class="d-flex d-md-none flex-row justify-content-between justify-md-center">
    <!-- Search Section -->
    <div>
      <a href="/index"><img src="./images/mvlogo.png" width="150" height="50" alt="Company Logo"></a>
    </div>
    <div class="search-container ms-auto ms-md-0">
      <!-- Checkbox to toggle search bar -->
      <input type="text" id="search_input" class="search-input position-relative form-control" placeholder="Search..."
        style="max-width: 100px;margin-right: -10px;max-height:2rem ;">
      <!-- <label for="search-toggle" class="search-icon position-relative " id="search_icon_label" style="background-color: transparent;">&#128269;</label> -->
    </div>

    <!-- Hamburger Menu Section -->
    <div>
      <!-- Checkbox to toggle side menu -->
      <!-- <input type="checkbox" id="menu-toggle" style="display: none;"> -->
      <label for="menu-toggle" id="hamburger-icon" class="hamburger-icon">
        <!-- <span style="font-size: 1.5rem;margin:auto 0;width: 10px;">
          Menu
        </span> -->
        &#9776;
      </label>

      <!-- Side Menu -->
      <div class="side-menu mt-3" id="side-menu" style="z-index: 99999;">
        <!-- Close Button -->
        <!-- <div class="menu-header" id="menu-header">
          <label for="menu-toggle" class="close-icon">&times;</label>
        </div> -->

        <!-- Menu Items -->
        <div class="menu-content" id="menu-content">
          <a href="/index/about">About Us</a>
          <a href="/index/join_us">Career</a>
          <a href="/index/teams">Teams</a>
          <a href="/index/contact_us">Contact Us</a>
        </div>
      </div>
    </div>
  </nav>
</header>


<!-- Side Menu -->
<!-- <div class="side-menu">
  <div class="overlay"></div>
  <div class="menu-content">
    <a href="/index/about">About Us</a>
    <a href="/index/teams">Teams</a>
    <a href="/index/join_us">Career</a>
    <a href="/index/contact_us">Contact Us</a>
  </div>
</div> -->

<script defer>
  const items = [{
    name: "index",
    href: "/index",
  }, {
    name: "join us",
    href: "/index/join_us",
  }, {
    name: "contact us",
    href: "/index/contact_us",
  }, {
    name: "teams",
    href: "/index/teams",
  }, {
    name: "about us",
    href: "/index/about_us",
  }]

  $(document).ready(() => {
    $('#search-options').hide()
    $("#side-menu").hide()
    //$("#search_input").hide()

    $("#hamburger-icon").click(() => {
      $("#side-menu").slideToggle()
    })

    $("#search_icon_label").click(() => {
      $("#search_input").fadeToggle()
    })

    $('#nav_search').focusin(() => {
      items.forEach(item => {
        const li_tag = `
      <li>
        <a href='${item.href}'>
        ${item.name}
        </a>
      </li>`
        $('#search-options_ul').append(li_tag)
      })
    })

    $('#nav_search').focusout(() => {
      setTimeout(() => {
        $('#search-options_ul > li').remove()
        $('#search-options').hide()
      }, 300)
    })

    $('#nav_search').on('input', (e) => {
      $('#search-options').show()
      $('#search-options_ul > li').remove()
      const text = $('#nav_search').val()
      const filter_items = items.filter(item => item.name.includes(text))

      filter_items.forEach(item => {
        const li_tag = `
      <li>
        <a href='${item.href}'>
        ${item.name}
        </a>
      </li>`
        $('#search-options_ul').append(li_tag)
      })

    })
  })

</script>